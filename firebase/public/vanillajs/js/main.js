!function(e,t,n){e.AppComponents=n||{};var a=function(e,t){this.cv=e,this.mv=t;var n=document.createElement("div");n.classList.add("bar");var a=document.createElement("div");a.classList.add("mark"),n.appendChild(a),this._el=n,this._cursor=a,this.render()};a.prototype.render=function(){var e=Math.round(100*this.cv/this.mv);100<e?this._cursor.classList.add("overflow"):this._cursor.classList.remove("overflow");var t=e+"%";this._cursor.style.width=t,this._el.setAttribute("data-percentage",t)},a.prototype.adjustValue=function(e){this.cv=Math.max(0,this.cv+e),this.render()},e.AppComponents.ProgressBar=a}(window,document,window.AppComponents),function(e,t,n){e.AppComponents=n||{};var a=function(){this._el=document.createElement("div"),this._el.classList.add("loader"),t.body.appendChild(this._el)};a.prototype.show=function(){this._el.classList.add("show")},a.prototype.hide=function(){this._el.classList.remove("show")},e.AppComponents.Loader=a}(window,document,window.AppComponents);var App=function(e,o,d){function s(){c.loader.show(),new Promise(function(t,e){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=JSON.parse(n.responseText);t(e)}},n.open("GET","//pb-api.herokuapp.com/bars",!0),n.send()}).then(function(e){c.loader.hide(),c.buildProgressBars(e)})}var t=function(){this._bars=[],this._activeBar=null};t.prototype.init=function(){var e=o.createElement("div");e.classList.add("container");var t=o.createElement("div");t.classList.add("controls");var n=o.createElement("button");n.innerText="Load Remote Data",n.type="button",n.addEventListener("click",s),t.appendChild(n),e.appendChild(t);var a=o.createElement("div");a.classList.add("row"),this._bc=a,e.appendChild(a),this._el=e,o.body.appendChild(this._el),s()},t.prototype.buildProgressBars=function(i){for(;this._bc.firstChild;)this._bc.removeChild(this._bc.firstChild);this._bars.length=0;var r=o.createElement("select");r.classList.add("select"),r.addEventListener("change",function(){c._activeBar=c._bars[r.value]}),i.bars.forEach(function(e,t){var n=new d.ProgressBar(e,i.limit);c._bars.push(n);var a=o.createElement("div");a.classList.add("bar-col","col-12","col-md-6","col-lg-4"),a.appendChild(n._el),c._bc.appendChild(a);var s=document.createElement("option");s.value=t,s.text="Progress "+(t+1),r.appendChild(s)}),c._activeBar=this._bars[0];var n=o.createElement("div");n.classList.add("col-12","col-md-6");var e=o.createElement("p");e.innerText="Active Bar",n.appendChild(e),c._bc.appendChild(n),n.appendChild(r),(n=o.createElement("div")).classList.add("col-12","col-md-6"),c._bc.appendChild(n),(e=o.createElement("p")).innerText="Progress",n.appendChild(e),i.buttons.forEach(function(e){var t=o.createElement("button");t.innerText=e,t.value=e,t.type="button",t.addEventListener("click",function(){c._activeBar.adjustValue(+this.value)}),n.appendChild(t)})};var c=new t;return c.loader=new d.Loader,c.init(),c}(window,document,window.AppComponents);